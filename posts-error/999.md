---
id: 999
title: Adding servo to RC car
date: 2011-05-06 03:56:41
author: 5
group: Adding servo to RC car
post_name: adding-servo-to-rc-car
---

## error
[GoogleGenerativeAI Error]: Candidate was blocked due to RECITATION

## code
 <!\[CDATA\[

# 遥控小车的改造

_May 3rd, 2011_ 

今天完成了遥控车的改造，这是自主控制的第一步。这辆车是在淘宝上买的，结构很简单，控制很简陋。方向就是将电机打死，这时候电流会非常大，而且对于将来的自主移动的精细控制带来不利因素。所以很早就想把它改成舵机控制的了，下面就是整个改造的过程。

这就是需要改造的部分。

![NewImage](http://139.162.84.35/wp-content/uploads/2011/05/NewImage.png "NewImage.png") 

先将需要改造的部分画下来，便于设计框架结构。我不是机械出身的，所以就画个大概吧。

![NewImage](http://139.162.84.35/wp-content/uploads/2011/05/NewImage1.png "NewImage.png") 

结构图完成

![NewImage](http://139.162.84.35/wp-content/uploads/2011/05/NewImage2.png "NewImage.png") 

在图纸上设计新的结构

![NewImage](http://139.162.84.35/wp-content/uploads/2011/05/NewImage3.png "NewImage.png") 

根据设计切割材料

![NewImage](http://139.162.84.35/wp-content/uploads/2011/05/NewImage4.png "NewImage.png") 

最后完成的样子，由于是临时电路，也就没固定，看上去有点像垃圾车-\_-b

![NewImage](http://139.162.84.35/wp-content/uploads/2011/05/NewImage5.png "NewImage.png") 

改造部分的特写

![NewImage](http://139.162.84.35/wp-content/uploads/2011/05/NewImage6.png "NewImage.png") 

再来一张

![NewImage](http://139.162.84.35/wp-content/uploads/2011/05/NewImage7.png "NewImage.png") 

这些只是机械部份，然后就是控制部份。由于舵机能够转动的角度范围到180度，而该车的转向轮仅能转动在30-40度之间。同时，自主移动机器人目标是在Arduino上面开发。所以我就一步到位，先用Arduino读取天地飞的pwm信号，然后经过转换，输出新的pwm信号给舵机，这样就不会因为卡住而损坏舵机了。

最后效果如下

<http://v.youku.com/v%5Fshow/id%5FXMjYzOTc2NzA4.html> 

使用的程序非常简单，如下：


#include <Servo.h>
//Author:	HE Qichen
//Date:	2011-5-3
//Website:	http://gaishi.vicp.net
//Email:	heqichen(a)gaishi.vicp.net
Servo directionServo;
void setup()
{
  pinMode(2, INPUT);
  directionServo.attach(3);
}
void loop()
{
  int t, a;
  t = pulseIn(2, HIGH);
  a = map(t, 1000, 2000, 65, 115);
  directionServo.write(a);
}

\]\]> 
